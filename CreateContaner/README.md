# 🐧 Proxmox LXC Container Auto-Creator

## 👋 Приветствие

**🎯 Автоматизированный скрипт для быстрого создания LXC-контейнеров в Proxmox VE**  
*Экономьте время и стандартизируйте процесс развертывания контейнеров!*

---

## 📋 Оглавление

- [🚀 Возможности](#-возможности)
- [🛠️ Установка](#️-установка)
- [🎮 Использование](#-использование)
- [⚙️ Функционал](#️-функционал)
- [📸 Как оно работает-Примеры](#Примеры)
- [💻 Автор](#-автор)
- [📜 Лицензия](#-лицензия)
- [🤝 Вклад в проект](#-вклад-в-проект)

---

## 🚀 Возможности

### 🎯 **Основной функционал**
- **🐳 Автоматическое создание LXC-контейнеров** в Proxmox VE
- **⚡ Два режима работы** - интерактивный и автоматический
- **📁 Выбор шаблона** из доступных образов
- **🔧 Полная настройка ресурсов** (vCPU, RAM, диск)

### 🌐 **Сетевые возможности**
- **🔌 Настройка сетевых мостов** с отображением alias
- **📡 DHCP и статическая IP-адресация**
- **🏷️ Поддержка VLAN** тегирования
- **🌐 Автоматическая проверка** сетевых настроек

### 🔐 **Безопасность**
- **🔐 Генерация безопасных паролей** для root
- **⌨️ Ручной ввод паролей** с валидацией
- **🏷️ Валидация hostname** по стандартам
- **🛡️ Привилегированные контейнеры** с nesting

### 🖥️ **Дополнительные опции**
- **📦 Установка VNC** и графической среды (XFCE)
- **🚀 Автозапуск** при старте узла
- **📊 Диагностика** после создания
- **🎨 Красивый интерфейс** с эмодзи

---

## 🛠️ Установка

### 📥 **Клонирование репозитория**
```bash
git clone https://github.com/your-username/proxmox-automation-suite.git
cd proxmox-automation-suite
```

### 🔧 **Настройка прав доступа**
```bash
chmod +x create_container.sh
```

### ⚙️ **Требования**
- **Proxmox VE 9** или новее
- **Доступ root** или sudo privileges
- **LXC-шаблоны** в `/var/lib/vz/template/cache/`

---

## 🎮 Использование

### 🔧 **Интерактивный режим (рекомендуется)**
```bash
./create_container.sh
```
*💡 Полный контроль над всеми параметрами контейнера*

### ⚡ **Режим быстрого создания**
```bash
./create_container.sh --defaults
```
*🚀 Только имя контейнера, остальное - автоматически*

### 📝 **Пример работы**
```bash
# Запуск интерактивного режима
🐧 Создание нового контейнера в Proxmox ===

📁 Проверяем доступные шаблоны в: /var/lib/vz/template/cache/
📋 Доступные шаблоны:
┌─────────────────────────────────────────────────────
│  1. debian-12-standard_12.2-1_amd64.tar.zst
│  2. ubuntu-22.04-standard_22.04-1_amd64.tar.zst
│  3. alpine-3.18-standard_3.18-1_amd64.tar.zst
└─────────────────────────────────────────────────────
💬 Выберите шаблон (1-3) [1]: 2
✅ Выбран шаблон: ubuntu-22.04-standard_22.04-1_amd64.tar.zst

💬 Введите имя контейнера: my-ubuntu-container
...
```

---

## ⚙️ Функционал

### 🎛️ **Параметры конфигурации**
| Параметр | По умолчанию | Описание |
|----------|--------------|----------|
| **vCPU** | 2 ядра | Количество процессорных ядер |
| **RAM** | 4 GB | Объем оперативной памяти |
| **Диск** | 8 GB | Размер корневой файловой системы |
| **Сетевой мост** | vmbr1 | Сетевой интерфейс |
| **IP-адрес** | DHCP | Автоматическая или статическая настройка |
| **VNC** | отключен | Графическая среда |

### 📁 **Поддерживаемые шаблоны**
- **📦 ZST-архивы** (`*.tar.zst`)
- **📦 GZ-архивы** (`*.tar.gz`) 
- **📦 XZ-архивы** (`*.tar.xz`)
- **🎯 Все стандартные** шаблоны Proxmox

### 🔄 **Автоматизация**
- **🔍 Автоподбор CTID** в диапазоне 700-750
- **✅ Валидация ввода** всех параметров
- **🔄 Многократные попытки** установки пароля
- **📊 Проверка статуса** после создания

---

## 📸 Примеры

### 🎮 **Интерактивный интерфейс**
```
🐧 Создание нового контейнера в Proxmox ===

📁 Проверяем доступные шаблоны в: /var/lib/vz/template/cache/
📋 Доступные шаблоны:
┌─────────────────────────────────────────────────────
│  1. debian-13-standard_13.1-2_amd64.tar.zst
│  2. ubuntu-22.04-standard_22.04-1_amd64.tar.zst
└─────────────────────────────────────────────────────
💬 Выберите шаблон (1-2) [1]: 
```

### ⚡ **Режим быстрого создания**
```
🚀 Режим использования значений по умолчанию ===

📦 Используется шаблон: debian-13-standard_13.1-2_amd64.tar.zst

💬 Введите имя контейнера: quick-container
🔐 Сгенерирован пароль root: X8k9L3mN
```

---

## 👨💻 Автор

### **Антонов Евгений**
- 📧 **Email:** [ae@dcea.ru](mailto:ae@dcea.ru)
- 🔗 **GitHub:** [GitHub](https://github.com/onegin)
- 💼 **Профессия:** Системный администратор / DevOps инженер

### 🌟 **О проекте**
Этот скрипт создан для упрощения работы с Proxmox VE и стандартизации процессов развертывания контейнеров.

---

## 📜 Лицензия

### 🔓 **Некоммерческое использование**
```markdown
✅ Бесплатное использование
✅ Свободное копирование и модификация
✅ Обязательное указание авторства
✅ Распространение производных работ под той же лицензией
```

### 🔒 **Коммерческое использование**
```markdown
🚫 Запрещено без приобретения лицензии
💰 Требуется коммерческая лицензия
📧 Контакт для лицензирования: ae@dcea.ru
```

### ⚖️ **Юридическая информация**
- **Основная лицензия:** GNU GPL v3
- **Дополнительные условия:** Коммерческие ограничения
- **Авторские права:** © 2025 Антонов Евгений


---

## 🤝 Вклад в проект

### 🐛 **Сообщения об ошибках**
Нашли баг? Создайте [issue](https://github.com/onegin/proxmox-automation-suite/issues) с подробным описанием.

### 💡 **Предложения по улучшению**
Есть идеи для улучшения? Откройте [discussion](https://github.com/onegin/proxmox-automation-suite/discussions)!

### 🔧 **Разработка**
1. Форкните репозиторий
2. Создайте feature branch (`git checkout -b feature/amazing-feature`)
3. Закоммитьте изменения (`git commit -m 'Add amazing feature'`)
4. Запушьте branch (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

---

## ⭐ Поддержка проекта

Если этот скрипт помог вам в работе, поставьте ⭐ звезду репозиторию!

---

**🎉 Счастливого контейнеризирования!** 🐳

```
